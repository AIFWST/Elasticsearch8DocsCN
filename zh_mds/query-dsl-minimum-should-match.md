

[Elastic Docs](/guide/) ›[Elasticsearch Guide [8.9]](index.md) ›[Query
DSL](query-dsl.md)

[« Text expansion query](query-dsl-text-expansion-query.md) [`rewrite`
parameter »](query-dsl-multi-term-rewrite.md)

## 'minimum_should_match'参数

"minimum_should_match"参数的可能值：

类型 |示例 |描述 ---|---|--- 整数

|

`3`

|

指示一个固定值，而不考虑可选子句的数量。   负整数

|

`-2`

|

指示可选子句的总数减去此数字应该是必需的。   百分比

|

`75%`

|

指示可选子句总数的此百分比是必需的。根据百分比计算的数字将向下舍入并用作最小值。   负百分比

|

`-25%`

|

指示可以缺少可选子句总数的此百分比。从百分比计算出的数字将向下舍入，然后从总数中减去以确定最小值。   组合

|

`3<90%`

|

一个正整数，后跟小于号，后跟前面提到的任何说明符，是一个条件规范。它指示如果可选子句的数量等于(或小于)整数，则它们都是必需的，但如果大于整数，则应用规范。在此示例中：如果有 1 到 3 个子句，则它们都是必需的，但对于 4 个或更多子句，只需要 90%。   多种组合

|

'2<-25% 9<-3'

|

多个条件规范可以用空格分隔，每个条件规范仅对大于其前面的数字有效。在此示例中：如果有 1 或 2 个子句，则两个子句都是必需的，如果有 3-9 个子句，则所有子句都需要 25%，如果子句超过 9 个，则除了三个子句之外，所有子句都是必需的。   **注意：**

在处理百分比时，负值可用于在边缘情况下获得差异行为。75% 和 -25% 在处理 4 个子句时意味着同样的事情，但是当处理 5 个子句时，75% 表示需要 3 个，但 -25% 意味着需要 4 个。

如果基于规范的计算确定不需要可选子句，则有关布尔查询的常规规则在搜索时仍然适用(不包含必需子句的布尔查询仍必须至少与一个可选子句匹配)

无论计算达到什么数字，都不会使用大于可选子句数的值或小于 1 的值。(即：无论计算结果的结果有多低或多高，所需的最小匹配数永远不会小于 1 或大于子句数。

[« Text expansion query](query-dsl-text-expansion-query.md) [`rewrite`
parameter »](query-dsl-multi-term-rewrite.md)
