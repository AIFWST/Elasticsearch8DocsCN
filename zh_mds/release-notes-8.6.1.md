

[Elastic Docs](/guide/) ›[Elasticsearch Guide [8.9]](index.md) ›[Release
notes](es-release-notes.md)

[« Elasticsearch version 8.6.2](release-notes-8.6.2.md) [Elasticsearch
version 8.6.0 »](release-notes-8.6.0.md)

## 弹性搜索版本8.6.1

另请参阅 8.6 中的重大更改。

### 已知问题

* 分片重新平衡可能会暂时使集群失去平衡

从 8.6.0 开始，默认的分片重新平衡算法将计算最终的期望余额，然后进行分片移动以协调集群的当前状态与期望状态。但是，分片移动发生的顺序可能会偏向某些节点，从而导致集群在协调过程中暂时变得不平衡。与往常一样，一旦节点达到磁盘水印，它将不接受任何其他分片，但这种倾斜可能会导致节点在正常操作中比预期更频繁地到达其磁盘水印。对帐过程完成后，群集将再次平衡。

要避免此问题，请升级到 8.8.0 或更高版本。

* 使用采集附件处理器时，Tika 与 log4j 2.18.0 及更高版本(在 Elasticsearch 8.4.0 中引入)的交互会导致日志记录过多。此日志记录过多，可能导致群集不稳定，直至群集不可用且必须重新启动节点。(问题：#91964)。此问题已在 Elasticsearch 8.7.0 (#93878) 中修复

要解决此问题，请升级到 8.7.0 或更高版本。

### 错误修正

数据流

    

* 修复数据流上按查询删除的通配符扩展 #92891 * 修复数据流上按查询更新的通配符扩展 #92717(问题：#90272) * 使用本地修改的类 #92984 修补杰克逊核心 这修复了杰克逊解析中的问题(问题：#92480)

Distributed

    

* 修复了非零偏移量的"字节数组索引输入" #93205

ILM+SLM

    

* 如果缺少存储库，从群集状态获取存储库元数据不会引发异常 #92914

Infra/Core

    

* 在应用文件设置之前不要宣布准备就绪 #92856(问题：#92812)

机器学习

    

* 在推理请求包含多个文档的情况下使用并行分配 #92359

Mapping

    

* 修复"_bulk"接口"dynamic_templates"和显式"op_type"#92687

Search

    

* 避免在获取关键字字段的最小值和最大值时执行 I/O #92026 * 减少许多分片不可用时搜索响应所需的内存 #91365(问题：#90622)

[« Elasticsearch version 8.6.2](release-notes-8.6.2.md) [Elasticsearch
version 8.6.0 »](release-notes-8.6.0.md)
