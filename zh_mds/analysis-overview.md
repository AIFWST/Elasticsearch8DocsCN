

[Elastic Docs](/guide/) ›[Elasticsearch Guide [8.9]](index.md) ›[Text
analysis](analysis.md)

[« Text analysis](analysis.md) [Text analysis concepts »](analysis-
concepts.md)

## 文本分析概述

文本分析使 Elasticsearch 能够执行全文搜索，其中搜索返回所有 _relevant_ 结果，而不仅仅是完全匹配。

如果您搜索"快速狐狸跳跃"，您可能想要包含"一只快速的棕色狐狸跳过懒狗"的文档，您可能还需要包含相关单词的文档，例如"快狐狸"或"狐狸跳跃"。

###Tokenization

分析使全文搜索成为可能 _tokenization_ ：将文本分解为更小的块，称为 _tokens_。在大多数情况下，这些标记是单个单词。

如果您将短语"快速棕色狐狸跳跃"索引为单个字符串，并且用户搜索"快速狐狸"，则不将其视为匹配项。但是，如果对短语进行标记化并单独为每个单词编制索引，则可以单独查找查询字符串中的术语。这意味着它们可以通过搜索"快速狐狸"、"狐狸棕色"或其他变体来匹配。

###Normalization

标记化允许按单个术语进行匹配，但每个标记仍按字面匹配。这意味着：

* 搜索"快速"与"快速"不匹配，即使您可能希望其中一个词匹配另一个词 * 虽然"fox"和"foxes"共享相同的词根，但搜索"foxes"不会匹配"fox"，反之亦然。  * 搜索"跳跃"与"跳跃"不匹配。虽然它们不共享词根，但它们是同义词并且具有相似的含义。

为了解决这些问题，文本分析可以将这些标记_规范化_为标准格式。这允许您匹配与搜索词不完全相同但足够相似以仍然相关的令牌。例如：

* "快速"可以小写："快速"。  * "狐狸"可以是词干，也可以简化为词根："狐狸"。  * "jump"和"leap"是同义词，可以索引为一个词："jump"。

若要确保搜索词按预期匹配这些字词，可以将相同的标记化和规范化规则应用于查询字符串。例如，搜索"狐狸跳跃"可以规范化为搜索"狐狸跳跃"。

### 自定义文本分析

文本分析由 _analyzer_ 执行，_分析器_ 是一组控制整个过程的规则。

Elasticsearch包含一个默认的分析器，称为标准分析器，它开箱即用地适用于大多数用例。

如果要定制搜索体验，可以选择不同的内置分析器，甚至可以配置自定义分析器。自定义分析器可让您控制分析过程的每个步骤，包括：

* 对文本 _before_ 标记化的更改 * 如何将文本转换为标记 * 在索引或搜索之前对标记进行的规范化更改

[« Text analysis](analysis.md) [Text analysis concepts »](analysis-
concepts.md)
