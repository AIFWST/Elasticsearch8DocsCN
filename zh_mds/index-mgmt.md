

[Elastic Docs](/guide/) ›[Elasticsearch Guide [8.9]](index.md) ›[Data
management](data-management.md)

[« Tutorial: Automate rollover with ILM](getting-started-index-lifecycle-
management.md) [ILM overview »](overview-index-lifecycle-management.md)

## Kibana 中的索引管理

Kibana 的索引管理功能是管理集群索引、数据流和索引模板的一种简单、方便的方法。实践良好的索引管理可确保以最具成本效益的方式正确存储数据。

### 你会学到什么

您将学习如何：

* 查看和编辑索引设置。  * 查看索引的映射和统计信息。  * 执行索引级操作，例如刷新。  * 查看和管理数据流。  * 创建索引模板以自动配置新的数据流和索引。

### 必需权限

如果您使用 Elasticsearch 安全功能，则需要以下安全权限：

* 访问 Kibana 的"监控"集群权限 **索引管理** 功能。  * "view_index_metadata"和"管理"索引权限，用于查看数据流或索引的数据。  * 管理索引模板的"manage_index_templates"群集权限。

要在 Kibana 中添加这些权限，请转至堆栈管理>安全>角色**。

### 查看和编辑索引

打开 Kibana 的主菜单，然后单击"堆栈管理">"索引管理"。

!索引管理用户界面

"**索引管理**"页面包含索引的概述。锁屏提醒指示索引是关注者索引、汇总索引还是冻结索引。

单击锁屏提醒会将列表缩小到仅包含该类型的索引。您还可以使用搜索栏筛选索引。

您可以向下钻取到每个索引以调查索引设置、映射和统计信息。在此视图中，您还可以编辑索引设置。

!索引管理用户界面

### 执行索引级操作

使用"管理"菜单执行索引级操作。此菜单在索引详细信息视图中可用，或者在概述页面上选中一个或多个索引的复选框时可用。该菜单包括以下操作：

* **关闭索引** * **强制合并索引** * **刷新索引** * **刷新索引** * **删除索引** * **添加生命周期策略**

### 管理数据流

"数据流"视图列出了数据流，并允许您检查或删除它们。

要查看有关数据流的更多信息(例如其生成或其当前索引生命周期策略)，请单击流的名称。

!数据流详细信息

要查看有关流的支持索引的信息，请单击"**索引**"列中的数字。

!支持索引

### 管理索引模板

"**索引模板**"视图列出了您的模板，并允许您检查、编辑、克隆和删除它们。对索引模板所做的更改不会影响现有索引。

!索引模板

如果没有任何模板，可以使用"创建模板"向导创建一个模板。

#### 动手尝试：创建索引模板

在本教程中，你将创建一个索引模板，并使用它来配置两个新索引。

**步骤 1。添加名称和索引模式**

1. 在"**索引模板**"视图中，打开"**创建模板**"向导。

!创建向导

2. 在"**名称**"字段中，输入"我的索引模板"。  3. 将 ** 索引模式**设置为"my-index-*"，以便模板匹配具有该索引模式的任何索引。  4. 将"数据流"、"优先级"、"版本"和"_meta"字段留空或按原样保留。

**步骤 2。添加设置、映射和别名**

1. 将组件模板添加到索引模板。

组件模板是一组预配置的映射、索引设置和别名，您可以在多个索引模板中重复使用。标记指示组件模板是否包含映射 ( **M** )、索引设置 ( **S** )、别名 ( **A** ) 或三者的组合。

组件模板是可选的。对于本教程，请勿添加任何组件模板。

!"组件模板"页

2. 定义索引设置。这些是可选的。对于本教程，请将此部分留空。  3. 定义一个映射，其中包含一个名为"geo"的对象字段和一个名为"坐标"的子"geo_point"字段：

!"映射字段"页

或者，您可以单击**加载 JSON** 链接并将映射定义为 JSON：

    
        {
      "properties": {
        "geo": {
          "properties": {
            "coordinates": {
              "type": "geo_point"
            }
          }
        }
      }
    }

您可以在"动态模板"和"高级选项"选项卡中创建其他映射配置。对于本教程，请勿创建任何其他映射。

4. 定义一个名为"my-index"的别名： { "my-index"： {} }

5. 在评论页面上，检查摘要。如果一切正常，请单击"**创建模板**"。

**步骤 3。创建新索引**

现在，您可以使用索引模板创建新索引。

1. 索引以下文档以创建两个索引："my-index-000001"和"my-index-000002"。           POST /my-index-000001/_doc { "@timestamp"： "2019-05-18T15：57：27.541Z"， "ip"： "225.44.217.191"， "扩展"： "jpg"， "响应"： "200"， "geo"： { "坐标"： { "纬度"： 38.53146222， "lon"： -121.7864906 } }， "url"： "https://media-for-the-masses.theacademyofperformingartsandscience.org/uploads/charles-fullerton.jpg" } POST /my-index-000002/_doc { "@timestamp"： "2019-05-20T03：44：20.844Z"， "ip"： "198.247.165.49"， "扩展"： "php"， "响应"： "200"， "geo"： { "坐标"： { "纬度"： 37.13189556， "lon"： -76.4929875 } }， "内存"： 241720， "URL"： "https://theacademyofperformingartsandscience.org/people/type:astronauts/name:laurel-b-clark/profile" }

2. 使用获取索引 API 查看新索引的配置。索引是使用您之前创建的索引模板配置的。           响应 = client.index.get( index： 'my-index-000001，my-index-000002' ) 把响应 GET /my-index-000001，my-index-000002

[« Tutorial: Automate rollover with ILM](getting-started-index-lifecycle-
management.md) [ILM overview »](overview-index-lifecycle-management.md)
