

[Elastic Docs](/guide/) ›[Elasticsearch Guide [8.9]](index.md) ›[Data
management](data-management.md)

[« Index management in Kibana](index-mgmt.md) [ILM concepts »](ilm-
concepts.md)

## ILM概述

您可以创建和应用索引生命周期管理 (ILM) 策略，以根据性能、复原能力和保留要求自动管理索引。

索引生命周期策略可以触发以下操作：

* **翻转**：当当前写入索引达到特定大小、文档数量或年龄时，创建新的写入索引。  * **收缩**：减少索引中主分片的数量。  * **强制合并**：触发强制合并以减少索引分片中的段数。  * **删除**：永久删除索引，包括其所有数据和元数据。

ILM 使管理热温冷体系结构中的索引变得更加容易，这在处理时序数据(如日志和指标)时很常见。

您可以指定：

* 要滚动到新索引的最大分片大小、文档数或期限。  * 索引不再更新且主分片数量可以减少的点。  * 何时强制合并以永久删除标记为删除的文档。  * 可以将索引移动到性能较低的硬件的点。  * 可用性不那么重要且副本数量可以减少的点。  * 当索引可以安全删除时。

例如，如果您要将来自 ATM 机群的指标数据索引到 Elasticsearch 中，则可以定义一个策略，该策略显示：

1. 当索引主分片的总大小达到 50GB 时，滚动到新索引。  2. 将旧索引移动到暖阶段，将其标记为只读，并将其缩小到单个分片。  3. 7 天后，将索引移动到冷阶段，并将其移动到较便宜的硬件。  4. 达到所需的 30 天保留期后删除索引。

若要使用 ILM，群集中的所有节点必须运行相同的版本。尽管可以在混合版本群集中创建和应用策略，但不能保证它们将按预期工作。尝试使用包含群集中所有节点都不支持的操作的策略将导致错误。

[« Index management in Kibana](index-mgmt.md) [ILM concepts »](ilm-
concepts.md)
